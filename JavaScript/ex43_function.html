<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="button" id="btn" value="버튼">

    <script>

        /*
            JavaScript Function 
            - "함수는 1급 객체이다." > 함수형 언어의 특징
            - 1급 객체, First class object, First class citizen
            - 함수를 객체처럼 취급한다 > 함수를 값(데이터)처럼 취급할 수 있다.

            1. 함수를 변수나 데이터 구조에 담을 수 있다.(저장할 수 있다.)
            2. 함수를 매개변수에 전달할 수 있다.
            3. 함수를 반환값으로 사용할 수 있다.
        */

        let n1;
        console.log(typeof n1); //undefined
        n1 = 10;
        console.log(typeof n1); //number
        n1 = 'n1';
        console.log(typeof n1); //string
        
        
        function f1() {
            console.log('f1');
        }
        console.log(typeof f1); //function
        
//1. 함수를 변수나 데이터 구조에 담을 수 있다.(저장할 수 있다.)
        // f1 함수를 n1변수에 대입
        n1 = f1;
        console.log(typeof n1); //function
        
        //n1이라는 변수를 함수처럼 취급해서(정확히는 객체object로 취급) 함수를 호출한다.
        n1(); //*** 이상하게 보이는 구문!!! > f1


        /*
            JavaScript에서 함수를 만드는 방법
            1. 함수 선언문
            2. 함수 표현식(리터럴) == 익명함수(Anonymous Function)
         */
        function a1() {
            console.log('a1');
        }
        
        a1();

        let b1 =  function a1() {
            console.log('b1');
        };

        b1();

        // 익명 함수는 보통 생성과 동시에 변수에 저장한 뒤 나중에 변수를 통해서 호출한다.
        let b2 = function () { 
            console.log('a2');
        }

        b2();

        
        (function() {
            console.log('a3');
        })(); //즉시호출 > 스코프를 임의로 형성하기 위해서(충돌 방지)


        // document.getElementById('btn').onmousedown = m1;
        function m1() { 
            alert(event.buttons);
        }                    // > 버튼의 클릭을 위해서 정의한 함수
        
        //이렇게 독립적으로 호출해도 호출이 가능 
        // m1();                 // > 문제발생 > Cannot read properties of undefined (reading 'buttons') at m1



        //이벤트 전용 함수!!!! > 안정성 향상!!!
        document.getElementById('btn').onmousedown = function() {
            alert(event.buttons);
        } 

        console.clear();
// 2. 함수를 매개변수에 전달할 수 있다.

        function a4(){
            console.log('a4');
        }
        function a5(sth){
            console.log('a5');
            sth();
        }

        //매개변수로 함수를 전달
        a5(a4);
        //a5(a4()); //주의!!!! a4의 return값 전달 > undefined

        a5(function() {
            console.log('이해?');
        });
        



        // setTimeout(function() {
        //     alert();
        // }, 1000);

        // setTimeout(m1, 1000);

        function setTimeout(fn, ms){
            // ...
            fn();
        }


// 3. 함수를 반환값으로 사용할 수 있다.
        function a6() {
            console.log('a6');            
        }
        function a7() {
            return a6; //함수 자체를 반환값으로
        }

        let result = a7();
        result(); // == a6();

        a7()();


        </script>
</body>
</html>